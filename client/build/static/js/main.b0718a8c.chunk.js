(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){e.exports=a(67)},62:function(e,t){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n),c=a(0),l=a.n(c),s=a(31),i=a(1),u=a(30),m=a.n(u),o=a(14),h=a.n(o),E=(a(66),m()("http://localhost:".concat(3729),{transports:["websocket","polling","flashsocket"]})),b=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),u=Object(i.a)(r,2),m=u[0],o=u[1],b=Object(c.useState)(!1),p=Object(i.a)(b,2),d=p[0],f=p[1],g=Object(c.useState)(!1),v=Object(i.a)(g,2),O=v[0],j=v[1],k=Object(c.useState)(""),N=Object(i.a)(k,2),y=N[0],S=N[1],C=Object(c.useState)([]),x=Object(i.a)(C,2),w=x[0],I=x[1],A=Object(c.useRef)(null);E.on("chat message",(function(e){if(I([].concat(Object(s.a)(w),[e])),A.current){var t=A.current.nextElementSibling,a=A.current.lastElementChild;t.removeAttribute("disabled"),a.scrollIntoView({behavior:"smooth"})}})),E.on("user name",(function(e){var t=JSON.parse(e);o(t)})),E.on("disconnect",(function(e){o(m.filter((function(t){return t.name!==e})))}));var J=function(e){var t=e.target.value;n(t),t.length>0?j(!0):j(!1)},P=function(e){"Enter"===e.key&&U()},U=function(){a&&a.length>0&&(E.emit("user name",a),f(!0))},V=function(e){S(e.target.value)},F=function(e){if("Enter"===e.key){var t=e.target.dataset.user;if(y.length>0&&(E.emit("chat message",{currentUser:t,messageInputValue:y}),S("")),A.current)A.current.nextElementSibling.setAttribute("disabled","")}};return l.a.createElement(c.Fragment,null,l.a.createElement("header",{className:"main-header"},l.a.createElement("figure",{className:"main-header__logo"},l.a.createElement("img",{src:"https://picsum.photos/100",alt:"logo"}),l.a.createElement("figcaption",null,"ChatApp"))),l.a.createElement("aside",{className:"sidebar"},l.a.createElement("h1",null,"Connected Clients: ",m.length),h.a.map(m,(function(e,t){return l.a.createElement("div",{key:t,className:"user-indicator"},l.a.createElement("div",{className:"user-status"}),l.a.createElement("span",null,e.name))}))),d?l.a.createElement("section",{className:"main-content"},l.a.createElement("div",{className:"chatbox",ref:A},h.a.map(w,(function(e,t){var n=e.currentUser===a?"mine":"other";return l.a.createElement("article",{key:t,className:"message ".concat(n)},l.a.createElement("header",null,l.a.createElement("span",null,e.currentUser),l.a.createElement("time",{dateTime:e.time},e.time)),l.a.createElement("p",null,e.messageInputValue))}))),l.a.createElement("input",{type:"text","data-user":a,onKeyPress:F,onChange:V,placeholder:"Enter a message...",value:y})):l.a.createElement("section",{className:"overlay"},l.a.createElement("label",{htmlFor:"nick-name"},"Please enter a username:"),l.a.createElement("input",{type:"text",id:"nick-name",placeholder:"Your username...",onKeyPress:P,onChange:J,value:a}),l.a.createElement("button",{className:O?"":"disabled",onClick:U},"Confirm")))};r.a.render(l.a.createElement(b,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.b0718a8c.chunk.js.map